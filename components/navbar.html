<header
  class="app-header navbar navbar-light bg-white border-bottom px-3"
  style="min-height: 56px"
>
  <div class="ms-auto d-flex align-items-center gap-3">
    <span class="text-secondary small" id="navUser">-</span>
    <button
      type="button"
      class="btn btn-sm btn-outline-danger"
      id="btnNavLogout"
    >
      <i class="bi bi-box-arrow-right"></i> Logout
    </button>
  </div>
  <script>
    (function () {
      function ready() {
        const s = window.Auth?.session?.();
        const u = document.getElementById("navUser");
        if (u && s) {
          u.textContent =
            s.role === "kelas"
              ? `${s.username} â€¢ ${[s.kelas, s.jurusan]
                  .filter(Boolean)
                  .join(" ")}`
              : s.username || "Admin";
        }
        const btn = document.getElementById("btnNavLogout");
        btn?.addEventListener("click", () => {
          try {
            Auth.logout();
          } catch {}
          location.href = "/pages/login.html";
        });
      }
      function waitAuth() {
        if (window.Auth?.logout) {
          ready();
        } else setTimeout(waitAuth, 40);
      }
      waitAuth();
    })();
  </script>
</header>
